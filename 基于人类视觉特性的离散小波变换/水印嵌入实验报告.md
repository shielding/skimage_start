# 水印嵌入实验报告 

## 概述	

### 理论部分

* 本次实验参考了以下两篇论文：</br>

	1. 叶闯，沈益青，李豪，曹思汗，王柏祥 **《基于人类视觉特性（HVS）的离散小波变换（DWT）数字水印算法》** 浙江大学学报 引用次数63</br>
	2. LEWIS A S，KNOWLES G.**Image compresion using the 2-D wavelet transform**[J].IEEE Transactions on Image Procesing，1992，1(2):244-250. 引用次数**1213**，就在写实验报告的时候又增加了一次引用……</br>

* 小波变换是“在时频的联合域上”对信号进行分析，简单来说，就是傅立叶变换只能体现信号在某一段时间内的频率组成，短时傅里叶虽然依靠“加窗”分时间段进行傅立叶变换，在一定程度上弥补了这一不足，但是“窗口”的大小很难把控，如果大了弱点就没有解决，小了又可能出现新的问题，即分析的频率不准确。所以直接上小波变换。顾名思义，不再把信号拆解成三角函数，而是拆解成小波。这篇[博客](https://blog.csdn.net/yq_forever/article/details/55253022)讲得很通俗易懂。

* Arnold置换存在也增强了安全性，因为提取出的水印在经过逆置换以前仍然是没有可读性的乱码，即便Arnold置换的算法十分简练，置乱的次数也勉强能算是个密钥了。

* 总体来讲，人对于噪声的觉察，是图片越亮的地方越不敏感、与纹理有关的系数在局部越活跃（我个人理解就是纹理越乱）越不敏感。而明度和纹理信息都主要由低频系数包含。

* 小波变换的低频带积聚了图片主要能量，大概可以理解为低频包含了主要信息，这一部分也就是其它操作比如滤波等等不容易影响到的。因此，在嵌入水印时根据计算的JND决定对DWT系数改变多少，就在保证鲁棒性的基础上增强了不可见性。

### 实验部分
* 实验环境：Python 3.6.4 使用python的skimage和numpy处理图片数据，pywt完成小波变换相关操作

## 实验中遇到的问题
* 论文中涉及公式的地方都很简洁，但并不明了，增加了很多理解和实现上的难度。
* 用python来完成实验的优点是，matlab可以卸载了！缺点是，如果像我一样对数据的类型变化不够敏感，遇到类似如下报错将消耗大量的调试时间：

       <img src="报错.png" width = 60% height = 60%/>


## Arnold置乱

### 流程及结果：

* 原图：

![](好好学习.png)

* 在【置乱.py】中进行了36次Arnold置换，将其变为：

![](好好学习-置乱.png)

* 在【逆置乱.py】中进行了36次Arnold逆置换， 逆置换得到原图，成功：

![](好好学习-反置乱.png)

### 细节：

* 以float格式读入水印图片后，转换为int并对其进行二值化，像素值为0或255。而后根据公式完成置乱，此处进行36次，注意每次置乱后都需要将图片变为uint8类型存储。

   <img src="1.png" width = 60% height = 60%/>
   
* 逆置乱同理

   <img src="2.png" width = 60% height = 60%/>